---
layout: post
use_math: true
title: "Python에서 네임스페이스의 의미"
date: 2019-01-30 10:14:05
tagline: "파이썬에서 변수와 객체의 매핑관계를 나타내는 네임스페이스의 의미 및 역할 정리"
categories:
- Python
tags:
- python
image: /thumbnail-mobile.png
author: "Hyungcheol Noh"
permalink: /2019-01-30-python-namespace
---

이번 포스팅은 다음의 링크들을 참고하여 작성하였다:
- [링크1](https://hashcode.co.kr/questions/3/if-__name__-__main__%EC%9D%80-%EC%99%9C%EC%93%B0%EB%82%98%EC%9A%94)
- [링크2](https://soooprmx.com/archives/5854)
- [링크3](https://blog.confirm.ch/python-namespaces/)
- [링크4](https://www.programiz.com/python-programming/namespace)

파이썬에서는 보통 메인 모듈의 구성이 다음과 같이 되어있다.

```python
def main():
    #...


if __name__ == '__main__':
    main()


```

사실 파이썬은 스크립트 언어이며 다른 컴파일 언어들과는 다르게 자동으로 실행되는 메인함수가 없다. 따라서 일단 실행을 하게되면 들여쓰기가 되지 않은 모든 코드(Level 0 코드)를 실행하게 되며, 함수 및 클래스는 정의만 하게되고 실행되지는 않는다.

따라서 위의 예제처럼 굳이 `main` 함수를 정의하고 밑에 `if` 문으로 실행시켜야 할 이유를 찾기 힘들 수 있다. 하지만 대부분의 코드들이 위의 형식을 따르고 있으며 따라서 저런식으로 구현하는 데에는 이유가 있을 것이다. 그 이유가 무엇인지 알아보는 과정에서 네임스페이스의 개념에 대해서 알게 되었고 그에 대한 내용을 정리하기로 하였다.

## 파이썬의 네임스페이스
네임스페이스(namespace, 이름공간)란 프로그래밍 언어에서 특정한 객체(Object)를 이름(Name)에 따라 구분할 수 있는 범위를 의미한다. 파이썬 내부의 모든것은 객체로 구성되며 이들 각각은 특정 이름과의 매핑 관계를 갖게 되는데 이 매핑을 포함하고 있는 공간을 네임스페이스라고 한다.

네임스페이스가 필요한 이유는 다음과 같다. 프로그래밍을 수행하다보면 모든 변수 이름과 함수 이름을 정하는 것이 중요한데 이들 모두를 겹치지 않게 정하는 것은 사실상 불가능하다.

> 따라서 프로그래밍언어에서는 네임스페이스라는 개념을 도입하여, 특정한 하나의 이름이 통용될 수 있는 범위를 제한한다. 즉, 소속된 네임스페이스가 다르다면 같은 이름이 다른 개체를 가리키도록 하는 것이 가능해진다. ([참고](https://soooprmx.com/archives/5854))

파이썬의 네임스페이스는 3가지로 분류할 수 있다:
- 전역 네임스페이스: `모듈별로` 존재하며, 모듈 전체에서 통용될 수 있는 이름들이 소속된다.
- 지역 네임스페이스: `함수 및 메서드 별로` 존재하며, 함수 내의 지역변수들의 이름들이 소속된다.
- 빌트인 네임스페이스: `기본 내장 함수 및 기본 예외`들의 이름들이 소속된다. 파이썬으로 작성된 모든 코드 범위가 포함된다.

![](/assets/img/2019-01-30-python-namespace/02.jpg)

(출처: [https://www.programiz.com/python-programming/namespace](https://www.programiz.com/python-programming/namespace))

파이썬의 네임스페이스는 다음과 같은 특징들을 가지고 있다.
- 네임스페이스는 딕셔너리 형태로 구현된다.
- 모든 이름 자체는 문자열로 되어있고 각각은 해당 네임스페이스의 범위에서 실제 객체를 가리킨다.
- 이름과 실제 객체 사이의 매핑은 가변적(Mutable)이므로 런타임동안 새로운 이름이 추가될 수 있다.
- 다만, 빌트인 네임스페이스는 함부로 추가하거나 삭제할 수 없다.

![](/assets/img/2019-01-30-python-namespace/01.png)

(출처: [https://blog.confirm.ch/python-namespaces/](https://blog.confirm.ch/python-namespaces/))

위의 그림은 파이썬의 네임스페이스가 어떤 것인지 잘 표현해준다. 파이썬 공식 홈페이지의 튜토리얼에서는 네임스페이스를 `이름들과 실제 객체들 사이의 매핑`이라고 정의한다.

## 파이썬의 변수 스코프
변수 스코프(Variable Scope)란 변수의 이름으로 그 변수가 가리키는 객체를 찾을 수 있는 영역의 범위를 말한다. 변수 스코프는 현재 접근가능한 네임스페이스들과 그 순서에 의하여 결정된다. C++처럼 중괄호(\{...\})를 통해서 블록을 나누는 경우에는 중괄호를 기준으로 변수 스코프가 결정된다. 따라서 중괄호 내에서 선언된 변수는 중괄호를 빠져나오면 폐기가 된다.

파이썬에서는 C++과는 다르게 블록 단위의 스코프가 존재하지 않으며 오직 전역 변수 스코프 및 지역 변수 스코프만이 존재하게 된다.

